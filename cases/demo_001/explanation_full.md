1. 求碰前速度v_P0：P从A下滑到B，机械能守恒mgh=1/2 mv^2，得v_B=√(2gh)=√50≈7.07m/s。在粗糙段BC，受摩擦力f=μmg，做功W_f=-μmgL。动能定理：1/2 mv_B^2 - μmgL = 1/2 mv_P0^2。代入数据：25 - 0.25*10*4 = 0.5*v_P0^2，解得v_P0=√30≈5.48m/s。
2. 碰撞分析：P与Q发生弹性碰撞。动量守恒：m1v_P0 = m1v_P1 + m2v_Q1。能量守恒：1/2 m1v_P0^2 = 1/2 m1v_P1^2 + 1/2 m2v_Q1^2。代入m1=1kg, m2=3kg, v_P0=√30。解得v_P1 = (m1-m2)v_P0/(m1+m2) = -0.5√30 (向左)，v_Q1 = 2m1v_P0/(m1+m2) = 0.5√30 (向右)。
3. 弹簧最大压缩量：Q压缩弹簧，机械能守恒。1/2 m2 v_Q1^2 = 1/2 k x_max^2。代入：0.5*3*(0.5√30)^2 = 0.5*300*x_max^2。计算得 x_max = 0.15m。
4. Q运动时间：Q从C出发压缩弹簧再返回C，经历半个周期。T = 2π√(m2/k) = 2π√(3/300) = 2π/10 ≈ 0.628s。Δt = T/2 = π/10 ≈ 0.314s。
5. 追及判断：碰撞后P向左减速，加速度a_P = μg = 2.5m/s^2。t=0时P在C，速度v_P1=-√30/2。Q返回C时t=π/10，此时P的速度v_P(t) = v_P1 + a_P t = -√30/2 + 2.5*(π/10) ≈ -2.74 + 0.785 = -1.955m/s (仍向左)。P的位移x_P = v_P1 t + 0.5 a_P t^2 ≈ -0.86m。Q回到C后向左进入粗糙段，加速度a_Q = μg = 2.5m/s^2。相对运动：P在前(左)，Q在后(右)，同向运动。相对初速度Δv = v_Q - v_P = 0 - (-1.955) = 1.955m/s。相对加速度Δa = a_Q - a_P = 0。追及时间Δt' = |x_P| / Δv ≈ 0.86 / 1.955 ≈ 0.44s。此时Q运动距离x_Q = 0.5 a_Q (Δt')^2 ≈ 0.24m。故在距C点0.24m处相遇。相遇时速度v_P' = v_P + a_P Δt' ≈ -1.955 + 2.5*0.44 ≈ -0.86m/s，v_Q' = a_Q Δt' ≈ 1.1m/s。
6. 最终停止位置：P从C点开始向左滑行，总动能E_P = 1/2 m1 v_P1^2 = 3.75J。克服摩擦做功W = μ m1 g s_P。s_P = E_P / (μ m1 g) = 3.75 / 2.5 = 1.5m。故P停在距B点L - s_P = 4.0 - 1.5 = 2.5m处。Q从C点开始向左滑行，总动能E_Q = 1/2 m2 v_Q1^2 = 11.25J。s_Q = E_Q / (μ m2 g) = 11.25 / 7.5 = 1.5m。故Q停在距B点L - s_Q = 4.0 - 1.5 = 2.5m处。
